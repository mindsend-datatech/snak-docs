<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>SDK Quickstart - snaK docs</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">snaK docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dev-quickstart"><a class="header" href="#dev-quickstart">Dev Quickstart</a></h1>
<h1 id="kadena-snap-rpc-calls-documentation"><a class="header" href="#kadena-snap-rpc-calls-documentation">Kadena Snap RPC Calls Documentation</a></h1>
<p>This documentation covers the RPC methods provided by the Kadena Snap, allowing interaction with the Kadena blockchain via MetaMask. The Kadena Snap provides methods for checking connection status, managing accounts, interacting with networks, and signing transactions.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ol>
<li><a href="#available-rpc-methods">Available RPC Methods</a>
<ul>
<li><a href="#kda_checkconnection">kda_checkConnection</a></li>
<li><a href="#kda_addaccount">kda_addAccount</a></li>
<li><a href="#kda_addhardwareaccount">kda_addHardwareAccount</a></li>
<li><a href="#kda_deleteaccount">kda_deleteAccount</a></li>
<li><a href="#kda_deletehardwareaccount">kda_deleteHardwareAccount</a></li>
<li><a href="#kda_getaccounts">kda_getAccounts</a></li>
<li><a href="#kda_gethardwareaccounts">kda_getHardwareAccounts</a></li>
<li><a href="#kda_getnetworks">kda_getNetworks</a></li>
<li><a href="#kda_storenetwork">kda_storeNetwork</a></li>
<li><a href="#kda_deletenetwork">kda_deleteNetwork</a></li>
<li><a href="#kda_getactivenetwork">kda_getActiveNetwork</a></li>
<li><a href="#kda_setactivenetwork">kda_setActiveNetwork</a></li>
<li><a href="#kda_setaccountname">kda_setAccountName</a></li>
<li><a href="#kda_sethardwareaccountname">kda_setHardwareAccountName</a></li>
<li><a href="#kda_signtransaction">kda_signTransaction</a></li>
</ul>
</li>
</ol>
<hr />
<h2 id="type-definitions"><a class="header" href="#type-definitions">Type Definitions</a></h2>
<p>Below are the type definitions used in the Kadena Snap RPC calls. These types help ensure type safety and clarity when working with the RPC methods.</p>
<pre><code class="language-typescript">type CheckConnectionResponse = boolean;

type SnapAccount = {
  id: string;
  address: string;
  publicKey: string;
  index: number;
  name: string;
};

type CreateAccountResponse = SnapAccount;

type GetAccountsResponse = SnapAccount[];

type DeleteAccountParams = {
  id: string;
};

type DeleteHardwareAccountParams = {
  id: string;
};

type SnapNetwork = {
  name: string;
  networkId: string;
  blockExplorerTransaction: string;
  blockExplorerAddress: string;
  blockExplorerAddressTransactions: string;
  isTestnet: boolean;
  nodeUrl: string;
  transactionListUrl: string;
  transactionListTtl: number;
  buyPageUrl: string;
};

type GetNetworksResponse = SnapNetwork[];

type StoreNetworkParams = {
  network: SnapNetwork;
};

type DeleteNetworkParams = {
  networkId: string;
};

type GetActiveNetworkResponse = string;

type SetActiveNetworkParams = {
  networkId: string;
};

type SetAccountNameParams = {
  id: string;
  name: string;
};

type SetHardwareAccountNameParams = {
  id: string;
  name: string;
};

type SignTransactionParams = {
  id: string;
  transaction: string;
};

type SignTransactionResponse = string;
</code></pre>
<hr />
<h2 id="available-rpc-methods"><a class="header" href="#available-rpc-methods">Available RPC Methods</a></h2>
<h3 id="kda_checkconnection"><a class="header" href="#kda_checkconnection">kda_checkConnection</a></h3>
<p><strong>Description</strong>: Checks if the Kadena Snap is connected.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const isConnected = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_checkConnection' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>CheckConnectionResponse</code></p>
<hr />
<h3 id="kda_addaccount"><a class="header" href="#kda_addaccount">kda_addAccount</a></h3>
<p><strong>Description</strong>: Derives a new account from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const account = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_addAccount' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapAccount</code></p>
<hr />
<h3 id="kda_addhardwareaccount"><a class="header" href="#kda_addhardwareaccount">kda_addHardwareAccount</a></h3>
<p><strong>Description</strong>: Adds a new hardware account from the Kadena Ledger App.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const account = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_addHardwareAccount',
      params: {
        index: 0,
        address: '&lt;address&gt;',
        publicKey: '&lt;publicKey&gt;',
      },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapAccount</code></p>
<hr />
<h3 id="kda_deleteaccount"><a class="header" href="#kda_deleteaccount">kda_deleteAccount</a></h3>
<p><strong>Description</strong>: Deletes an account by its ID on Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_deleteAccount',
      params: { id: '&lt;id&gt;' },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_deletehardwareaccount"><a class="header" href="#kda_deletehardwareaccount">kda_deleteHardwareAccount</a></h3>
<p><strong>Description</strong>: Deletes a hardware account by its ID on Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_deleteHardwareAccount',
      params: { id: '&lt;id&gt;' },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_getaccounts"><a class="header" href="#kda_getaccounts">kda_getAccounts</a></h3>
<p><strong>Description</strong>: Retrieves all accounts from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const accounts = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_getAccounts' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapAccount[]</code></p>
<hr />
<h3 id="kda_gethardwareaccounts"><a class="header" href="#kda_gethardwareaccounts">kda_getHardwareAccounts</a></h3>
<p><strong>Description</strong>: Retrieves all hardware accounts from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const hardwareAccounts = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_getHardwareAccounts' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapAccount[]</code></p>
<hr />
<h3 id="kda_getnetworks"><a class="header" href="#kda_getnetworks">kda_getNetworks</a></h3>
<p><strong>Description</strong>: Retrieves all networks from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const networks = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_getNetworks' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapNetwork[]</code></p>
<hr />
<h3 id="kda_storenetwork"><a class="header" href="#kda_storenetwork">kda_storeNetwork</a></h3>
<p><strong>Description</strong>: Adds a network to the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_storeNetwork',
      params: {
        network: {
          name: 'New Network',
          chainId: 1,
          networkId: 'new-network-id',
          nodeUrl: 'https://new-network-node.url',
          blockExplorerTransaction: 'https://explorer.url/tx/{txId}',
          blockExplorerAddress: 'https://explorer.url/address/{address}',
          isTestnet: true,
        },
      },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SnapNetwork</code></p>
<hr />
<h3 id="kda_deletenetwork"><a class="header" href="#kda_deletenetwork">kda_deleteNetwork</a></h3>
<p><strong>Description</strong>: Deletes a network from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_deleteNetwork',
      params: { networkId: '&lt;networkId&gt;' },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_getactivenetwork"><a class="header" href="#kda_getactivenetwork">kda_getActiveNetwork</a></h3>
<p><strong>Description</strong>: Retrieves the active network from the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const activeNetwork = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: { method: 'kda_getActiveNetwork' },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>GetActiveNetworkResponse</code></p>
<hr />
<h3 id="kda_setactivenetwork"><a class="header" href="#kda_setactivenetwork">kda_setActiveNetwork</a></h3>
<p><strong>Description</strong>: Sets the active network in the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_setActiveNetwork',
      params: { networkId: '&lt;networkId&gt;' },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_setaccountname"><a class="header" href="#kda_setaccountname">kda_setAccountName</a></h3>
<p><strong>Description</strong>: Updates the name of an account in the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_setAccountName',
      params: {
        id: '&lt;id&gt;',
        name: 'New Account Name',
      },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_sethardwareaccountname"><a class="header" href="#kda_sethardwareaccountname">kda_setHardwareAccountName</a></h3>
<p><strong>Description</strong>: Updates the name of a hardware account in the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_setHardwareAccountName',
      params: {
        id: '&lt;id&gt;',
        name: 'New Hardware Account Name',
      },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: None</p>
<hr />
<h3 id="kda_signtransaction"><a class="header" href="#kda_signtransaction">kda_signTransaction</a></h3>
<p><strong>Description</strong>: Signs a transaction using the Kadena Snap.</p>
<p><strong>Request Example</strong>:</p>
<pre><code class="language-javascript">const signature = await window.ethereum.request({
  method: 'wallet_invokeSnap',
  params: {
    snapId: defaultSnapOrigin,
    request: {
      method: 'kda_signTransaction',
      params: {
        id: '&lt;id&gt;',
        transaction: '&lt;Transaction Payload&gt;',
      },
    },
  },
});
</code></pre>
<p><strong>Response</strong>: <code>SignTransactionResponse</code></p>
<hr />
<h2 id="example-usekadenasnap-hook"><a class="header" href="#example-usekadenasnap-hook">Example: <code>useKadenaSnap</code> Hook</a></h2>
<p>To leverage these RPC methods in a React application, you can implement a custom hook, such as <code>useKadenaSnap</code>. This hook provides an interface for using the RPC methods within the React component lifecycle.</p>
<pre><code class="language-typescript">import { useState } from 'react';
import { SnapAccount, SnapNetwork } from '../types';
import { defaultSnapOrigin } from '../config/snap';

export default function useKadenaSnap() {
  const [connected, setConnected] = useState&lt;boolean&gt;(false);

  const checkConnection = async (): Promise&lt;boolean&gt; =&gt; {
    try {
      const isConnected = await window.ethereum.request&lt;boolean&gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: { method: 'kda_checkConnection' },
        },
      });
      setConnected(isConnected !== undefined &amp;&amp; isConnected !== null);
      return isConnected ?? false;
    } catch (error) {
      console.error('Error checking connection:', error);
      return false;
    }
  };

  const addAccount = async (): Promise&lt;SnapAccount&gt; =&gt; {
    try {
      const response = await window.ethereum.request&lt;SnapAccount&gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: { method: 'kda_addAccount' },
        },
      });

      if (
        !response ||
        !response.address ||
        !response.publicKey ||
        typeof response.index !== 'number' ||
        !response.name
      ) {
        throw new Error('Account creation failed: Missing essential data');
      }

      return response as SnapAccount;
    } catch (error) {
      console.error('Error creating account:', error);
      throw error;
    }
  };

  const getAccounts = async (): Promise&lt;SnapAccount[]&gt; =&gt; {
    try {
      const accounts = await window.ethereum.request&lt;
        (SnapAccount | undefined)[]
      &gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: { method: 'kda_getAccounts' },
        },
      });

      if (!accounts) {
        throw new Error('No accounts returned from Kadena snap');
      }

      return accounts.filter(
        (account): account is SnapAccount =&gt; account !== undefined,
      );
    } catch (error) {
      console.error('Error getting accounts:', error);
      return [];
    }
  };

  const getNetworks = async (): Promise&lt;SnapNetwork[]&gt; =&gt; {
    try {
      const networks = await window.ethereum.request&lt;
        (SnapNetwork | undefined)[]
      &gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: { method: 'kda_getNetworks' },
        },
      });

      return (networks ?? []).filter(
        (network): network is SnapNetwork =&gt; !!network,
      );
    } catch (error) {
      console.error('Error getting networks:', error);
      return [];
    }
  };

  const addNetwork = async (
    network: Partial&lt;SnapNetwork&gt;,
  ): Promise&lt;Partial&lt;SnapNetwork&gt;&gt; =&gt; {
    try {
      const newNetwork = await window.ethereum.request&lt;SnapNetwork&gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: {
            method: 'kda_storeNetwork',
            params: {
              network: {
                name: network.name!,
                chainId: network.chainId!,
                networkId: network.networkId!,
                nodeUrl: network.nodeUrl!,
                blockExplorerTransaction: network.blockExplorerTransaction!,
                blockExplorerAddress: network.blockExplorerAddress!,
                blockExplorerAddressTransactions:
                  network.blockExplorerAddressTransactions!,
                isTestnet: network.isTestnet!,
                transactionListUrl: network.transactionListUrl!,
                transactionListTtl: network.transactionListTtl!,
                buyPageUrl: network.buyPageUrl!,
              },
            },
          },
        },
      });

      if (!newNetwork) {
        throw new Error('Failed to add network: No network returned');
      }

      return newNetwork;
    } catch (error) {
      console.error('Error adding network:', error);
      throw error;
    }
  };

  const deleteNetwork = async (networkId: string): Promise&lt;void&gt; =&gt; {
    try {
      await window.ethereum.request&lt;void&gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: {
            method: 'kda_deleteNetwork',
            params: { networkId },
          },
        },
      });
    } catch (error) {
      console.error('Error deleting network:', error);
      throw error;
    }
  };

  const signMessage = async (
    id: string,
    transaction: string,
  ): Promise&lt;string&gt; =&gt; {
    try {
      const signature = await window.ethereum.request&lt;string | undefined&gt;({
        method: 'wallet_invokeSnap',
        params: {
          snapId: defaultSnapOrigin,
          request: {
            method: 'kda_signTransaction',
            params: { id, transaction },
          },
        },
      });
      if (!signature) {
        throw new Error('Signing failed');
      }
      return signature.toString().replace('0x', '');
    } catch (error) {
      console.error('Error signing transaction:', error);
      throw error;
    }
  };

  return {
    connected,
    checkConnection,
    addAccount,
    getAccounts,
    getNetworks,
    addNetwork,
    deleteNetwork,
    signMessage,
  };
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="user-guide/add-network.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="user-guide/add-network.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
